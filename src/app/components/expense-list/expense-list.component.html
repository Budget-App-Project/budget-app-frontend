<div class="root">
    <div class="expenselist">
        <div class="filters" style=""><!--This will house all of the filters that a person can select with a get expenses button by and the button that will say get as csv-->
            <div id="aboveform" style="display: flex; margin-left: auto; margin-right: auto; width: fit-content; cursor: pointer; border-style: solid; border-color: rgba(0, 0, 0, 0.75) !important; border-width: 0px 0px 1.5px 0px;" (click)="showFilters = !showFilters">
                Filters and Options
                <mat-icon [ngStyle]="{ transform: showFilters ? 'rotate(-180deg)' : 'rotate(0deg)', transition: 'all 0.5s ease-in-out' }">keyboard_arrow_down</mat-icon>
            </div>
            <div class="topinformation" st>
                <div class="information">Price</div>
                <div class="information">Expense Type</div>
                <div class="information">Date</div>
                <div class="information">Necessary</div>
            </div>
            <form [formGroup]="form" (ngSubmit)="submitForm()" [ngStyle]="{ height: showFilters ? '70vh': '0vh', 'box-shadow': '0px 0px 15px rgba(0, 0, 0, 0.5)' }" style="overflow: hidden; background-color: rgb(100, 100, 100) !important;">

                <mat-form-field appearance="fill" floatLabel="always">
                    <mat-label>Enter a date range</mat-label>
                    <mat-date-range-input [rangePicker]="picker">
                        <input matStartDate placeholder="Start date" name="startDate" formControlName="startDate">
                        <input matEndDate placeholder="End date" name="endDate" formControlName="endDate">
                    </mat-date-range-input>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                </mat-form-field>

                <div id="necessarycontainer">
                    <div id="slidercontainer">
                        <p [ngStyle]="{opacity: (form.value.necessary) ? 0.5 : 1}">Exclude Necessary</p>
                        <mat-slide-toggle appearance="outline" formControlName="necessary">
                        </mat-slide-toggle>
                        <p [ngStyle]="{opacity: (form.value.necessary) ? 1 : 0.5}">Include Necessary</p>
                    </div>
                </div>

                <mat-form-field appearance="fill" floatLabel="always">
                    <mat-label>Min value</mat-label>
                    <input matInput type="number" placeholder="E.g. 10.00">
                    <span matTextPrefix>$&nbsp;</span>
                </mat-form-field>

                <mat-form-field appearance="fill" floatLabel="always">
                    <mat-label>Max value</mat-label>
                    <input matInput type="number" placeholder="E.g. 1500.00">
                    <span matTextPrefix>$&nbsp;</span>
                </mat-form-field>
                
                <mat-form-field appearance="fill">
                    <mat-label>Sort By</mat-label>
                    <mat-select [(ngModel)]="selectedValue" name="food">
                      <mat-option *ngFor="let filters of filters" [value]="filters">
                        {{filters}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>

                <button type="submit">Go</button>
            </form>
        </div>
        <div class="expensescontainer" style="border-style: solid; border-color: black !important; border-width: 2px 0px;"><!-- This will be tha container for the actual expenses and will be scrollable -->
            <!-- In here the expenses will be mapped through and they will looke similar to the example-->
                    <div class="expense" *ngFor="let expense of expenses" style="display: flex; flex-direction: row; width: 100%; padding-top: 10px; padding-bottom: 10px; font-size: medium; border-style: solid; border-color: rgba(0, 0, 0, 0.5) !important; border-width: 0px 0px 1px 0px;">
                        <span class="information">{{'$' + expense.price.toFixed(2)}}</span>
                        <span class="information">{{expense.whatFor}}</span>
                        <span class="information">{{expense.whatTime}}</span>
                        <span class="information">{{expense.necessary ? 'Yes' : 'No'}}</span>
                    </div> 
        </div>
        <div class="totalspending"><!-- This will be a little infographic containing where things were spent probably showing no more than 10 categories and top three expenses --></div>
    </div>
</div>